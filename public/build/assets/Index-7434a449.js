import{u as v,r as l,j as e,L as d}from"./app-9776f975.js";import{L as j}from"./Layout-a722a78a.js";import{k as u,l as N,m as b,j as g}from"./index-149b70ee.js";import{H as y}from"./Helmet-009dc957.js";import{m as a,A as f}from"./index-e82f3d28.js";/* empty css            */import"./iconBase-549d7331.js";import"./ReactToastify-ccecd9fe.js";const k=({miners:o,title:m})=>{const{customer:t}=v().props,[c,x]=l.useState(o),[h,p]=l.useState(0);return l.useEffect(()=>{console.log("subscribing to channel for account_id",t.account_id);const s=window.Echo.private(`miner-${t.account_id}`);return s.listen(".MinerTotalEarnedEvent",i=>{console.log("event received",i),x(n=>n.map(r=>r.identifier===i.minerIdentifier?{...r,total_earned:i.total_earned}:r)),p(n=>n+1)}),()=>{console.log("Cleaning up WebSocket channel"),s.stopListening(".MinerTotalEarnedEvent"),window.Echo.leave(`miner-${t.account_id}`)}},[t.account_id]),e.jsxs(j,{title:"Mining Rigs",description:"Mining Rigs Dashboard",children:[e.jsx(y,{children:e.jsx("title",{children:m})}),e.jsx("div",{className:"p-4 mb-20 md:mb-48",children:c.length>0?e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-8",children:c.map(s=>e.jsx(a.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"card bg-base-100 shadow-2xl hover:shadow-3xl border-2 border-base-300 hover:border-primary/20 transition-all duration-300 rounded-2xl overflow-hidden",children:e.jsx("div",{className:"card-body p-6",children:e.jsxs("div",{className:"flex flex-col space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"avatar placeholder",children:e.jsx("div",{className:"bg-primary text-primary-content rounded-full w-12",children:e.jsx("span",{className:"text-xl",children:s.miner_plan.name[0]})})}),e.jsxs("div",{children:[e.jsxs("h2",{className:"card-title text-xl font-bold text-base-content",children:[s.miner_plan.name," Plan"]}),e.jsxs("div",{className:`badge ${s.is_active?"badge-success":"badge-error"} gap-2`,children:[e.jsx("div",{className:`w-2 h-2 rounded-full ${s.is_active?"animate-pulse bg-success-content":"bg-error-content"}`}),s.is_active?"Active":"Inactive"]})]})]}),s.is_active&&e.jsx(a.div,{animate:{rotateZ:[-45,45],y:[0,-10,0]},transition:{duration:1,repeat:1/0,ease:"easeInOut"},className:"text-primary",children:e.jsx(u,{className:"h-6 w-6"})})]}),e.jsxs("div",{className:"stats stats-vertical lg:stats-horizontal shadow bg-base-200/50 backdrop-blur-sm w-full",children:[e.jsxs("div",{className:"stat",children:[e.jsx("div",{className:"stat-title",children:"Mined"}),e.jsxs("div",{className:"stat-value text-primary flex items-center gap-2 text-lg",children:[e.jsx(f,{mode:"wait",children:e.jsx(a.span,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3},children:Number(s.total_earned).toFixed(4)},s.total_earned)}),e.jsx("span",{className:"text-xs",children:"USDT"}),s.is_active&&e.jsx(a.div,{animate:{scale:[1,1.2,1],rotate:[0,360]},transition:{duration:2,repeat:1/0,ease:"linear"},className:"text-warning",children:e.jsx(N,{className:"h-4 w-4"})})]})]}),e.jsxs("div",{className:"stat",children:[e.jsx("div",{className:"stat-title",children:"Hash Power"}),e.jsx("div",{className:"stat-value text-secondary text-lg",children:Number(s.hash_power).toFixed(2)}),e.jsx("div",{className:"stat-desc",children:"TH/s"})]})]}),e.jsx("div",{className:"divider text-gray-500",children:"Mining Output"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsx("div",{className:"stats bg-base-200/50 backdrop-blur-sm shadow",children:e.jsxs("div",{className:"stat",children:[e.jsx("div",{className:"stat-title",children:"Per Hour"}),e.jsx("div",{className:"stat-value text-accent text-lg",children:Number(s.output_per_hour).toFixed(4)}),e.jsx("div",{className:"stat-desc",children:"USDT"})]})}),e.jsx("div",{className:"stats bg-base-200/50 backdrop-blur-sm shadow",children:e.jsxs("div",{className:"stat",children:[e.jsx("div",{className:"stat-title",children:"Per Day"}),e.jsx("div",{className:"stat-value text-accent text-lg",children:Number(s.output_per_day).toFixed(4)}),e.jsx("div",{className:"stat-desc",children:"USDT"})]})})]}),e.jsxs("div",{className:"flex flex-col gap-2 mt-4",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-base-content/70",children:"Investment:"}),e.jsxs("span",{className:"font-bold text-base-content",children:[Number(s.investment_amount).toFixed(2)," USDT"]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-base-content/70",children:"Expires:"}),e.jsx("span",{className:"font-bold text-base-content",children:s.new_expires_at})]})]}),s.is_active&&e.jsx(a.div,{className:"h-1 bg-primary rounded-full mt-4",initial:{width:"0%"},animate:{width:"100%"},transition:{duration:60*60,ease:"linear"}},h),e.jsx(a.div,{className:"flex justify-center mt-4",whileHover:{scale:1.05},whileTap:{scale:.95},children:e.jsxs(d,{href:route("miners.miner-logs",{miner_id:s.identifier}),className:"btn btn-sm bg-gradient-to-r from-primary to-secondary hover:from-primary/80 hover:to-secondary/80 text-white border-0 gap-1 px-4",children:[e.jsx(b,{className:"h-3 w-3"}),e.jsx(a.span,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.3},className:"text-xs",children:"View Logs"})]})})]})})},s.identifier))}):e.jsx(a.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"card bg-base-200 shadow-xl hover:shadow-2xl transition-all duration-300",children:e.jsxs("div",{className:"card-body text-center p-8",children:[e.jsx("h2",{className:"card-title text-2xl font-bold justify-center mb-4",children:"No Miners Found"}),e.jsx("p",{className:"text-base-content/70 mb-6",children:"Start earning passive income while you sleep!"}),e.jsx("div",{className:"flex justify-center",children:e.jsxs(d,{href:route("miners.market"),className:"btn btn-primary gap-2",children:[e.jsx(g,{className:"h-5 w-5"}),"Buy Your First Miner"]})})]})})})]})};export{k as default};
