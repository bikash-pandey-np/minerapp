import{a as f,j as e}from"./app-9776f975.js";import{L as h}from"./Layout-a722a78a.js";import{E as c,t as j,G as b,b as g,H as v,s as N,A as d}from"./index-149b70ee.js";import{B as o}from"./ReactToastify-ccecd9fe.js";import{H as _}from"./Helmet-009dc957.js";/* empty css            */import"./iconBase-549d7331.js";import"./index-e82f3d28.js";const S=({profile:a,title:x})=>{const{data:s,setData:i,post:u,processing:n,errors:r}=f({full_name:a.full_name,email:a.email,account_id:a.account_id,avatar:null}),p=l=>{l.preventDefault();const t=new FormData;t.append("full_name",s.full_name),a.is_email_verified||t.append("email",s.email),s.avatar&&t.append("avatar",s.avatar),u(route("miners.profile"),t)},m=l=>{const t=l.target.files[0];if(t){if(!t.type.startsWith("image/")){o.error("Please select an image file"),l.target.value="";return}if(t.size>5*1024*1024){o.error("Image size should be less than 5MB"),l.target.value="";return}i("avatar",t)}};return e.jsxs(h,{title:"Profile",description:"Manage your profile",backHref:route("miners.settings"),children:[e.jsx(_,{children:e.jsx("title",{children:x})}),e.jsx("div",{className:"max-w-4xl mx-auto",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-xl p-6 mb-[6rem] md:mb-[11rem]",children:[e.jsxs("div",{className:"flex flex-col md:flex-row items-center gap-8 mb-8",children:[e.jsxs("div",{className:"relative",children:[e.jsx("img",{src:s.avatar?URL.createObjectURL(s.avatar):a.avatar,alt:"Profile",className:"w-32 h-32 rounded-full border-4 border-purple-500"}),e.jsx("label",{htmlFor:"avatar-preview",className:"absolute bottom-0 right-0 bg-purple-500 text-white p-2 rounded-full hover:bg-purple-600 transition cursor-pointer",children:e.jsx(c,{className:"w-4 h-4"})}),e.jsx("input",{type:"file",id:"avatar-preview",className:"hidden",accept:"image/*",onChange:m})]}),e.jsxs("div",{className:"text-center md:text-left",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-800 font-mono",children:a.full_name}),e.jsxs("p",{className:"text-gray-600",children:["Member since ",e.jsx("span",{className:"font-bold font-mono",children:a.format_date})]}),e.jsxs("div",{className:"mt-2 flex flex-wrap gap-2 justify-center md:justify-start",children:[a.is_pro_account?e.jsxs("span",{className:"badge gap-1 bg-gradient-to-r from-red-500 to-orange-300 font-mono",children:[e.jsx(j,{})," Pro Account"]}):e.jsx("span",{className:"badge badge-secondary gap-1 font-mono",children:"Free Account"}),a.is_email_verified&&e.jsx("span",{className:"badge badge-success gap-1 font-mono",children:"Verified Email"}),!a.is_email_verified&&e.jsx("span",{className:"badge badge-warning gap-1 font-mono",children:"Unverified Email"})]})]})]}),e.jsx("div",{className:"divider"}),e.jsxs("form",{onSubmit:p,children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"form-control",children:[e.jsx("label",{className:"label",children:e.jsxs("span",{className:"label-text flex items-center gap-2",children:[e.jsx(b,{})," Full Name"]})}),e.jsx("input",{type:"text",value:s.full_name,onChange:l=>i("full_name",l.target.value),className:`input input-bordered w-full text-gray-600 ${r.full_name?"input-error":""}`}),r.full_name&&e.jsx("label",{className:"label",children:e.jsx("span",{className:"label-text-alt text-error",children:r.full_name})})]}),e.jsxs("div",{className:"form-control",children:[e.jsx("label",{className:"label",children:e.jsxs("span",{className:"label-text flex items-center gap-2",children:[e.jsx(g,{})," Email Address"]})}),e.jsx("input",{type:"email",value:s.email,onChange:l=>i("email",l.target.value),className:`input input-bordered w-full text-gray-600 ${r.email?"input-error":""}`,disabled:a.is_email_verified}),r.email&&e.jsx("label",{className:"label",children:e.jsx("span",{className:"label-text-alt text-error",children:r.email})})]}),e.jsxs("div",{className:"form-control",children:[e.jsx("label",{className:"label",children:e.jsxs("span",{className:"label-text flex items-center gap-2",children:[e.jsx(v,{})," Account ID"]})}),e.jsx("input",{type:"text",value:s.account_id,className:"input input-bordered w-full text-gray-600",disabled:!0})]}),e.jsxs("div",{className:"form-control",children:[e.jsx("label",{className:"label",children:e.jsxs("span",{className:"label-text flex items-center gap-2",children:[e.jsx(N,{})," Total Earned"]})}),e.jsx("input",{type:"text",value:a.total_earned,className:"input input-bordered w-full text-gray-600",disabled:!0})]}),e.jsxs("div",{className:"form-control hidden",children:[e.jsx("label",{className:"label",children:e.jsxs("span",{className:"label-text flex items-center gap-2",children:[e.jsx(c,{})," Profile Picture"]})}),e.jsx("input",{type:"file",accept:"image/*",onChange:m,className:"file-input file-input-bordered w-full"}),r.avatar&&e.jsx("label",{className:"label",children:e.jsx("span",{className:"label-text-alt text-error",children:r.avatar})})]})]}),e.jsx("div",{className:"mt-6 flex justify-start",children:e.jsx("button",{type:"submit",className:"btn btn-primary gap-2",disabled:n,children:n?e.jsxs(e.Fragment,{children:[e.jsx(d,{className:"animate-spin"}),"Saving Changes..."]}):e.jsxs(e.Fragment,{children:[e.jsx(d,{}),"Save Changes"]})})})]})]})})]})};export{S as default};
