import{r,j as e,d as j}from"./app-9776f975.js";import{L as M}from"./Layout-a722a78a.js";import{i as E,f as C,h as U,g as q}from"./index-149b70ee.js";import{B as L,H as B,a as V,b as O,c as $}from"./index-bfa24fdc.js";import{H as z}from"./Helmet-009dc957.js";import{m as l,A as Y}from"./index-e82f3d28.js";/* empty css            */import"./iconBase-549d7331.js";import"./ReactToastify-ccecd9fe.js";const ae=({withdrawals:S,searchStatus:D,title:k})=>{const[t,f]=r.useState(null),[y,b]=r.useState(!1),[i,N]=r.useState({paymentDate:"",status:"",searchTerm:""}),[c,o]=r.useState(1),h=2,_={hidden:{opacity:0,y:20},visible:{opacity:1,y:0}},T={hidden:{opacity:0,scale:.8},visible:{opacity:1,scale:1,transition:{type:"spring",duration:.5}},exit:{opacity:0,scale:.8,transition:{duration:.3}}},n={hidden:{opacity:0,y:-20},visible:{opacity:1,y:0}},u=(s,a)=>{N(W=>({...W,[s]:a}))},I=()=>{o(1),j.Inertia.get(route("miners.withdraw-history"),i,{preserveState:!0,replace:!0})},H=()=>{N({paymentDate:"",status:"",searchTerm:""}),j.Inertia.get(route("miners.withdraw-history"),{},{preserveState:!0,replace:!0})},R=s=>{f(s),b(!0),document.body.style.overflow="hidden"},d=()=>{b(!1),f(null),document.body.style.overflow="auto"};r.useEffect(()=>{const s=a=>{a.key==="Escape"&&d()};return window.addEventListener("keydown",s),()=>window.removeEventListener("keydown",s)},[]);const p=c*h,v=p-h,m=S||[],A=m.slice(v,p),x=Math.ceil(m.length/h),w=m.length,F=s=>{switch(s){case"completed":return e.jsx(q,{className:"text-green-500 text-xl"});case"rejected":return e.jsx(U,{className:"text-red-500 text-xl"});case"processing":return e.jsx(C,{className:"text-blue-500 text-xl animate-spin"});default:return e.jsx(C,{className:"text-yellow-500 text-xl animate-spin"})}},P=s=>{switch(s){case"pending":return"badge-warning";case"processing":return"badge-info";case"completed":return"badge-success";case"rejected":return"badge-error";default:return"badge-info"}},g=s=>new Date(s).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"});return e.jsxs(M,{title:"Withdrawal History",description:"View Your Withdrawal History",children:[e.jsx(z,{children:e.jsx("title",{children:k})}),e.jsxs("div",{className:`container mx-auto px-4 mb-[7rem] md:mb-[15rem] ${y?"blur-sm":""}`,children:[e.jsx(l.div,{className:"mb-6",variants:n,initial:"hidden",animate:"visible",transition:{duration:.4},children:e.jsxs(l.div,{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",variants:n,transition:{staggerChildren:.1},children:[e.jsxs(l.div,{className:"form-control w-full",variants:n,children:[e.jsx("label",{className:"label",children:e.jsx("span",{className:"label-text",children:"Payment Date"})}),e.jsx("input",{type:"date",className:"input input-bordered input-sm w-full text-gray-600",value:i.paymentDate,onChange:s=>u("paymentDate",s.target.value)})]}),e.jsxs(l.div,{className:"form-control w-full",variants:n,children:[e.jsx("label",{className:"label",children:e.jsx("span",{className:"label-text",children:"Status"})}),e.jsxs("select",{className:"select select-bordered select-sm w-full text-gray-600",value:i.status,onChange:s=>u("status",s.target.value),children:[e.jsx("option",{value:"",children:"All"}),e.jsx("option",{value:"pending",children:"Pending"}),e.jsx("option",{value:"processing",children:"Processing"}),e.jsx("option",{value:"completed",children:"Completed"}),e.jsx("option",{value:"rejected",children:"Rejected"})]})]}),e.jsxs(l.div,{className:"form-control w-full",variants:n,children:[e.jsx("label",{className:"label",children:e.jsx("span",{className:"label-text",children:"Search"})}),e.jsx("input",{type:"text",className:"input input-bordered input-sm w-full text-gray-600",placeholder:"Search by ID...",value:i.searchTerm,onChange:s=>u("searchTerm",s.target.value)})]}),e.jsx(l.div,{className:"form-control w-full flex flex-col justify-end",variants:n,children:e.jsxs("div",{className:"flex gap-2 h-[30px]",children:[D&&e.jsx(l.button,{whileHover:{scale:1.02},whileTap:{scale:.98},className:"btn btn-error btn-outline btn-sm flex-1 min-h-0 h-full",onClick:H,children:"Reset"}),e.jsx(l.button,{whileHover:{scale:1.02},whileTap:{scale:.98},className:"btn btn-primary btn-sm flex-1 min-h-0 h-full",onClick:I,children:"Apply"})]})})]})}),m.length>0?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"text-sm text-gray-600 mb-4",children:["Showing ",v+1," to ",Math.min(p,w)," of ",w," records"]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:A.map((s,a)=>e.jsx(l.div,{variants:_,initial:"hidden",animate:"visible",transition:{duration:.5,delay:a*.1},className:"card bg-white shadow-[0_0_15px_rgba(0,0,0,0.1)] hover:shadow-[0_0_20px_rgba(0,0,0,0.15)] transition-all duration-300",onClick:()=>R(s),children:e.jsxs("div",{className:"card-body",children:[e.jsx("h2",{className:"card-title text-lg font-mono text-gray-800",children:s.identifier}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("p",{className:"text-sm text-gray-500",children:g(s.created_at)}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm font-semibold text-gray-700",children:"Request Amount:"}),e.jsxs("span",{className:"font-mono text-gray-800",children:[s.request_amount," USDT"]})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm font-semibold text-gray-700",children:"Fee:"}),e.jsxs("span",{className:"font-mono text-red-500",children:["-",s.fee," USDT"]})]}),e.jsxs("div",{className:"flex justify-between items-center font-bold",children:[e.jsx("span",{className:"text-sm text-gray-700",children:"Net Amount:"}),e.jsxs("span",{className:"font-mono text-green-600",children:[s.net_amount," USDT"]})]}),e.jsx("div",{className:"pt-2",children:e.jsx("div",{className:`badge ${P(s.status)} gap-2`,children:s.status})})]})]})},s.id))}),x>1&&e.jsx("div",{className:"flex justify-center mt-8",children:e.jsxs("div",{className:"join",children:[e.jsx("button",{className:"join-item btn btn-sm",onClick:()=>o(s=>Math.max(s-1,1)),disabled:c===1,children:"«"}),[...Array(x)].map((s,a)=>e.jsx("button",{className:`join-item btn btn-sm ${c===a+1?"btn-active":""}`,onClick:()=>o(a+1),children:a+1},a)),e.jsx("button",{className:"join-item btn btn-sm",onClick:()=>o(s=>Math.min(s+1,x)),disabled:c===x,children:"»"})]})})]}):e.jsxs("div",{className:"flex flex-col items-center justify-center py-12",children:[e.jsx("p",{className:"text-gray-500 text-lg mb-4 font-mono",children:"No records found"}),e.jsx(l.button,{whileHover:{scale:1.05},whileTap:{scale:.95},className:"bg-gradient-to-r from-indigo-500 to-purple-600 text-white active:bg-emerald-600 font-bold uppercase text-xs px-4 py-2 rounded shadow hover:shadow-lg outline-none focus:outline-none mr-1 mb-1 ease-linear transition-all duration-150",onClick:()=>j.Inertia.visit(route("miners.withdraw")),children:"Request Withdrawal"})]})]}),e.jsx(Y,{children:y&&t&&e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black bg-opacity-50",onClick:d,children:e.jsx(l.div,{className:"bg-white rounded-lg shadow-xl w-full max-w-2xl",variants:T,initial:"hidden",animate:"visible",exit:"exit",onClick:s=>s.stopPropagation(),children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h3",{className:"text-2xl font-bold text-gray-800",children:"Withdrawal Details"}),e.jsx("button",{onClick:d,className:"text-gray-500 hover:text-gray-700 transition-colors",children:e.jsx(E,{className:"w-6 h-6"})})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(L,{className:"text-xl text-gray-600"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Withdrawal ID"}),e.jsx("p",{className:"font-mono font-medium text-gray-700",children:t.identifier})]})]}),F(t.status)]}),e.jsxs("div",{className:"flex items-center gap-3 p-3 bg-gray-50 rounded-lg",children:[e.jsx(B,{className:"text-xl text-gray-600"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Wallet Address"}),e.jsx("p",{className:"font-mono font-medium break-all text-gray-700",children:t.trc_20_wallet_address})]})]}),e.jsxs("div",{className:"flex items-center gap-3 p-3 bg-gray-50 rounded-lg",children:[e.jsx(V,{className:"text-xl text-gray-600"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Amount Details"}),e.jsxs("div",{className:"font-mono",children:[e.jsxs("p",{className:"text-gray-700",children:["Request: ",t.request_amount," USDT"]}),e.jsxs("p",{className:"text-red-500",children:["Fee: -",t.fee," USDT"]}),e.jsxs("p",{className:"text-green-600 font-bold",children:["Net: ",t.net_amount," USDT"]})]})]})]}),e.jsxs("div",{className:"flex items-center gap-3 p-3 bg-gray-50 rounded-lg",children:[e.jsx(O,{className:"text-xl text-gray-600"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Request Date"}),e.jsx("p",{className:"font-mono font-medium text-gray-700",children:g(t.created_at)})]})]}),t.completed_at&&e.jsxs("div",{className:"flex items-center gap-3 p-3 bg-gray-50 rounded-lg",children:[e.jsx($,{className:"text-xl text-gray-600"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Completed Date"}),e.jsx("p",{className:"font-mono font-medium text-gray-700",children:g(t.completed_at)})]})]}),t.remark&&e.jsxs("div",{className:"p-3 bg-gray-50 rounded-lg",children:[e.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Remarks"}),e.jsx("p",{className:"font-medium text-gray-700",children:t.remark})]})]}),e.jsx("div",{className:"mt-6 text-right",children:e.jsx("button",{onClick:d,className:"btn btn-sm bg-gray-200 hover:bg-gray-300",children:"Close"})})]})})})})]})};export{ae as default};
