import{r as p,a as v,j as e}from"./app-9776f975.js";import{L as w,I as C,a as k}from"./Layout-a722a78a.js";import{j as S}from"./index-149b70ee.js";import{B as s}from"./ReactToastify-ccecd9fe.js";import{H as T}from"./Helmet-009dc957.js";import{m as i,A as _}from"./index-e82f3d28.js";/* empty css            */import"./iconBase-549d7331.js";const O=({plans:m,selectedPlan:h,planAccountWalletAddress:l,title:u})=>{const[n,y]=p.useState(h),{data:r,setData:o,post:b,processing:x,errors:a}=v({plan_id:n?n.id:"",transaction_id:"",investment_amount:""}),[c,j]=p.useState(!1),g=t=>{t.preventDefault(),b(route("miners.buy-now"))},N=()=>{if(navigator.clipboard&&navigator.clipboard.writeText)navigator.clipboard.writeText(l).then(()=>{s.dismiss(),s.success("Copied !",{autoClose:500})}).catch(t=>{console.error("Failed to copy: ",t),s.dismiss(),s.error("Failed to copy wallet address. Please try manually selecting and copying.",{autoClose:1e3})});else{const t=document.createElement("textarea");t.value=l,document.body.appendChild(t),t.select();try{document.execCommand("copy"),s.dismiss(),s.success("Copied !",{autoClose:500})}catch(d){console.error("Failed to copy: ",d),s.dismiss(),s.error("Failed to copy wallet address. Please try manually selecting and copying.",{autoClose:1e3})}document.body.removeChild(t)}};return e.jsxs(w,{title:"Buy Now",description:"Buy Now & Start Mining",backHref:route("miners.market"),children:[e.jsx(T,{children:e.jsx("title",{children:u})}),e.jsx("div",{className:"p-4 mb-16 md:mb-20",children:e.jsx(i.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"max-w-4xl mx-auto",children:e.jsx("div",{className:"bg-base-100 shadow-2xl rounded-2xl overflow-hidden backdrop-blur-sm",children:e.jsxs("div",{className:"py-2",children:[e.jsx(i.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.2},className:"card bg-gray-700 text-secondary-content mb-8",children:e.jsxs("div",{className:"card-body",children:[e.jsx("h2",{className:"card-title text-sm",children:"USDT TRC-20 Wallet Address"}),e.jsxs("div",{className:"bg-secondary-focus p-4 rounded-lg flex items-center justify-between",children:[e.jsx("code",{className:"text-sm break-all tracking-wider",children:l}),e.jsx("button",{onClick:N,className:"btn btn-ghost btn-circle",children:e.jsx(C,{size:20})})]})]})}),e.jsxs(i.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.3},className:"collapse collapse-arrow bg-transparent",children:[e.jsx("input",{type:"checkbox",checked:c,onChange:()=>j(!c)}),e.jsx("div",{className:"collapse-title text-md font-medium text-primary",children:e.jsx("h3",{className:"bg-clip-text text-transparent bg-gradient-to-r from-indigo-500 to-purple-600",children:"Payment Instructions"})}),e.jsx(_,{children:c&&e.jsx(i.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.3,ease:"easeInOut"},className:"collapse-content",children:e.jsxs("ul",{className:"steps steps-vertical",children:[e.jsx("li",{className:"step step-secondary",children:e.jsxs("div",{className:"text-left ml-4",children:[e.jsx("h4",{className:"font-semibold text-gray-600",children:"Make Payment"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Transfer the USDT amount using TRC20 network to the wallet address provided above. Double check the address before sending."})]})}),e.jsx("li",{className:"step step-default",children:e.jsxs("div",{className:"text-left ml-4",children:[e.jsx("h4",{className:"font-semibold text-gray-600",children:"Copy Transaction Hash"}),e.jsx("p",{className:"text-sm text-gray-600",children:"After sending, copy your transaction hash (TXN) from your wallet or exchange platform."})]})}),e.jsx("li",{className:"step step-default",children:e.jsxs("div",{className:"text-left ml-4",children:[e.jsx("h4",{className:"font-semibold text-gray-600",children:"Submit Details"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Fill in the form below with your investment amount and transaction hash, then click 'Get Now'."})]})}),e.jsx("li",{className:"step step-default",children:e.jsxs("div",{className:"text-left ml-4",children:[e.jsx("h4",{className:"font-semibold text-gray-600",children:"Await Confirmation"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Your transaction will be verified shortly. Once confirmed, your mining plan will be activated automatically."})]})}),e.jsxs("li",{className:"flex flex-col items-center",children:[e.jsx(k,{className:"w-10 h-10 text-amber-600 animate-pulse mb-2"}),e.jsx("p",{className:"text-sm text-amber-600 text-center",children:"Use only the TRC20 network for payments. If you use other networks like BEP20, your funds may be lost. We will not be held liable for any actions that lead to the loss of your funds."})]})]})})})]}),e.jsxs("div",{className:"relative",children:[x&&e.jsx("div",{className:"absolute inset-0 bg-base-200/50 backdrop-blur-sm flex items-center justify-center z-50",children:e.jsx("div",{className:"loading loading-spinner loading-lg text-primary"})}),e.jsx(i.form,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.4},onSubmit:g,className:"card bg-base-200",children:e.jsxs("div",{className:"card-body",children:[e.jsxs("div",{className:"form-control",children:[e.jsx("label",{className:"label",children:e.jsx("span",{className:"label-text text-md font-semibold",children:"Select Plan"})}),e.jsxs("select",{className:"select select-bordered select-primary w-full text-gray-800",value:r.plan_id,onChange:t=>{const d=m.find(f=>f.id===parseInt(t.target.value));o("plan_id",t.target.value),y(d)},children:[e.jsx("option",{value:"",children:"Select a plan"}),m.map(t=>e.jsxs("option",{value:t.id,children:[t.name," - Min. Investment: ",t.price," USDT"]},t.id))]}),a.plan_id&&e.jsx("span",{className:"text-error text-sm mt-1",children:a.plan_id})]}),n&&e.jsxs(i.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},transition:{duration:.3},children:[e.jsx("div",{className:"alert",children:e.jsxs("span",{children:["Please deposit minimum of ",e.jsxs("strong",{children:[n.price," USDT"]})]})}),e.jsxs("div",{className:"form-control",children:[e.jsx("label",{className:"label",children:e.jsx("span",{className:"label-text text-md font-semibold",children:"Investment Amount (USDT)"})}),e.jsx("input",{type:"number",className:"input input-bordered input-primary text-gray-800",value:r.investment_amount,onChange:t=>o("investment_amount",t.target.value),placeholder:"Enter investment amount"}),a.investment_amount&&e.jsx("span",{className:"text-error text-sm mt-1",children:a.investment_amount})]})]}),e.jsxs("div",{className:"form-control",children:[e.jsx("label",{className:"label",children:e.jsx("span",{className:"label-text text-md font-semibold",children:"TXN Hash"})}),e.jsx("input",{type:"text",className:"input input-bordered input-primary text-gray-800",value:r.transaction_id,onChange:t=>o("transaction_id",t.target.value),placeholder:"Enter your transaction UUID"}),a.transaction_id&&e.jsx("span",{className:"text-error text-sm mt-1",children:a.transaction_id})]}),e.jsx("div",{className:"mt-6",children:e.jsxs("button",{className:"bg-gradient-to-r from-indigo-500 to-purple-600 text-white active:bg-emerald-600 font-bold uppercase text-sm px-6 py-3 rounded shadow hover:shadow-lg outline-none focus:outline-none mr-1 mb-1 ease-linear transition-all duration-150 flex items-center gap-2",type:"submit",disabled:x,children:[e.jsx(S,{className:"text-xl"}),"BUY NOW"]})})]})})]})]})})})})]})};export{O as default};
