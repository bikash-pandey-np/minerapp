import{r as c,a as N,j as e}from"./app-9776f975.js";import{L as g}from"./Layout-a722a78a.js";import{m as v,c as m}from"./index-149b70ee.js";import{H as _}from"./Helmet-009dc957.js";import{m as t}from"./index-e82f3d28.js";/* empty css            */import"./iconBase-549d7331.js";import"./ReactToastify-ccecd9fe.js";const R=({balance:h,account_id:r,is_pro_account:x,withdrawal_fee:i,title:u})=>{console.log("from props",r);const[p,b]=c.useState(h),{data:n,setData:o,post:j,processing:d,errors:s,reset:w}=N({trc_20_wallet_address:"",amount:""});c.useEffect(()=>{window.Echo.channel(`miner-balance-${r}`).listen(".BroadcastBalanceEvent",a=>{console.log("event received",a),b(a.balance)})},[]);const y=a=>{a.preventDefault(),j(route("miners.withdraw"),{onSuccess:()=>{console.log("clearing form"),w()}})},f=a=>{const l=a.target.value;(/^\d*\.?\d*$/.test(l)||l==="")&&o("amount",l)};return e.jsxs(g,{title:"Withdraw",description:"Withdraw Your Easy Earned Funds",backHref:route("miners.settings"),children:[e.jsx(_,{children:e.jsx("title",{children:u})}),e.jsx("div",{className:"p-4 mb-32 md:mb-48",children:e.jsxs(t.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"max-w-2xl mx-auto",children:[e.jsx("div",{className:"flex justify-end mb-4",children:e.jsxs("a",{href:route("miners.withdraw-history"),className:"btn btn-ghost btn-sm gap-2 bg-gradient-to-r from-indigo-500 to-purple-600 text-white  hover:bg-base-200",children:[e.jsx(v,{className:"w-4 h-4"}),"Withdrawal History"]})}),e.jsx("div",{className:"stats shadow w-full mb-8 bg-gradient-to-r from-blue-50 to-purple-50",children:e.jsxs("div",{className:"stat",children:[e.jsx("div",{className:"stat-figure text-primary",children:e.jsx(m,{className:"w-8 h-8"})}),e.jsx("div",{className:"stat-title",children:"Available Balance"}),e.jsxs("div",{className:"stat-value text-primary",children:[Number(p).toFixed(2)," USDT"]}),e.jsx("div",{className:"stat-desc",children:"Ready to withdraw"})]})}),e.jsx("div",{className:"card bg-gradient-to-br from-blue-50 via-indigo-50 to-purple-50 border border-gray-200 shadow-[0_4px_12px_rgba(0,0,0,0.1)] hover:shadow-[0_8px_24px_rgba(0,0,0,0.15)] transition-all duration-300",children:e.jsxs("div",{className:"card-body p-8",children:[e.jsx(t.h2,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.2,duration:.5},className:"card-title text-2xl font-bold mb-6 text-gray-800",children:"Withdraw Funds"}),e.jsx("div",{className:"bg-gradient-to-r from-cyan-50 to-blue-50 p-4 rounded-lg shadow-md border border-blue-100 mb-6",children:e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{children:[e.jsx("span",{className:"font-semibold font-mono text-gray-500 italic",children:"Withdrawal Fee:"})," ",e.jsxs("span",{className:"font-mono text-gray-800",children:[i," USDT"]}),x&&e.jsx("span",{className:"ml-2 badge badge-success",children:"Pro Account Rate"})]}),e.jsxs("div",{className:"text-sm text-gray-600 font-mono text-justify",children:[e.jsx("span",{className:"font-semibold",children:"Note:"})," The withdrawal fee will be deducted from your withdrawal amount. The net amount you will receive is: ",e.jsxs("span",{className:"font-semibold",children:["Requested Amount - ",i," USDT"]})]})]})}),e.jsxs(t.form,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.3,duration:.5},onSubmit:y,className:"space-y-6",children:[e.jsxs(t.div,{className:"form-control w-full",whileHover:{scale:1.01},transition:{duration:.2},children:[e.jsx("label",{className:"label",children:e.jsx("span",{className:"label-text",children:"TRC20 Wallet Address"})}),e.jsx("input",{type:"text",placeholder:"Enter your TRC20 wallet address",className:`input input-bordered text-gray-800 w-full shadow-sm ${s.trc_20_wallet_address?"input-error":""}`,value:n.trc_20_wallet_address,onChange:a=>o("trc_20_wallet_address",a.target.value)}),s.trc_20_wallet_address&&e.jsx("label",{className:"label",children:e.jsx("span",{className:"label-text-alt text-error",children:s.trc_20_wallet_address})})]}),e.jsxs(t.div,{className:"form-control w-full",whileHover:{scale:1.01},transition:{duration:.2},children:[e.jsx("label",{className:"label",children:e.jsx("span",{className:"label-text",children:"Amount"})}),e.jsx("input",{type:"text",inputMode:"decimal",pattern:"[0-9]*\\.?[0-9]*",placeholder:"Enter amount to withdraw",className:`input input-bordered w-full text-gray-800 shadow-sm ${s.amount?"input-error":""}`,value:n.amount,onChange:f,onKeyDown:a=>{(a.key==="e"||a.key==="E"||a.key==="-"||a.key==="+")&&a.preventDefault()}}),s.amount&&e.jsx("label",{className:"label",children:e.jsx("span",{className:"label-text-alt text-error",children:s.amount})})]}),e.jsx(t.div,{className:"card-actions justify-start",whileHover:{scale:1.02},whileTap:{scale:.98},children:e.jsxs("button",{className:"btn btn-primary btn-sm gap-2",disabled:d,children:[e.jsx(m,{className:"w-4 h-4"}),d?"Processing...":"Withdraw"]})})]})]})})]})})]})};export{R as default};
